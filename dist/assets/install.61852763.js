import{_ as t,G as e,b as i,S as n,m as a,bW as o,cz as s,P as r,by as l,cA as h,cB as u,o as p,q as c,d,aA as g,cC as f,C as m,s as y,Y as v,aa as b,ab as _,cD as S,cE as x,k as w,e as k,b9 as D}from"./install.f743767a.js";import{c as N,a as P,g as O}from"./labelHelper.1919236e.js";import{c as M,S as I,a as A,p as L}from"./points.8d402e68.js";import{i as C,a as T,b as E,d as G}from"./dataSample.f45482cc.js";var z=function(n){function a(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=a.type,t.hasSymbolVisual=!0,t}return t(a,n),a.prototype.getInitialData=function(t){return N(this.getSource(),this,{useEncodeDefaulter:!0})},a.prototype.getLegendIcon=function(t){var n=new e,a=i("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);n.add(a),a.setStyle(t.lineStyle);var o=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),r="none"===o?"circle":o,l=.8*t.itemHeight,h=i(r,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);n.add(h),h.setStyle(t.itemStyle);var u="inherit"===t.iconRotate?s:t.iconRotate||0;return h.rotation=u*Math.PI/180,h.setOrigin([t.itemWidth/2,t.itemHeight/2]),r.indexOf("empty")>-1&&(h.style.stroke=h.style.fill,h.style.fill="#fff",h.style.lineWidth=2),n},a.type="series.line",a.dependencies=["grid","polar"],a.defaultOption={zlevel:0,z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0,lineStyle:{width:"bolder"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0},a}(n);function R(t,e,i){var n=t.getBaseAxis(),s=t.getOtherAxis(n),r=function(t,e){var i=0,n=t.scale.getExtent();"start"===e?i=n[0]:"end"===e?i=n[1]:n[0]>0?i=n[0]:n[1]<0&&(i=n[1]);return i}(s,i),l=n.dim,h=s.dim,u=e.mapDimension(h),p=e.mapDimension(l),c="x"===h||"radius"===h?1:0,d=a(t.dimensions,(function(t){return e.mapDimension(t)})),g=!1,f=e.getCalculationInfo("stackResultDimension");return o(e,d[0])&&(g=!0,d[0]=f),o(e,d[1])&&(g=!0,d[1]=f),{dataDimsForPoint:d,valueStart:r,valueAxisDim:h,baseAxisDim:l,stacked:!!g,valueDim:u,baseDim:p,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function V(t,e,i,n){var a=NaN;t.stacked&&(a=i.get(i.getCalculationInfo("stackedOverDimension"),n)),isNaN(a)&&(a=t.valueStart);var o=t.baseDataOffset,s=[];return s[o]=i.get(t.baseDim,n),s[1-o]=a,e.dataToPoint(s)}var H=Math.min,F=Math.max;function B(t,e){return isNaN(t)||isNaN(e)}function W(t,e,i,n,a,o,s,r,l){for(var h,u,p,c,d,g,f=i,m=0;m<n;m++){var y=e[2*f],v=e[2*f+1];if(f>=a||f<0)break;if(B(y,v)){if(l){f+=o;continue}break}if(f===i)t[o>0?"moveTo":"lineTo"](y,v),p=y,c=v;else{var b=y-h,_=v-u;if(b*b+_*_<.5){f+=o;continue}if(s>0){var S=f+o,x=e[2*S],w=e[2*S+1],k=m+1;if(l)for(;B(x,w)&&k<n;)k++,x=e[2*(S+=o)],w=e[2*S+1];var D=.5,N=0,P=0,O=void 0,M=void 0;if(k>=n||B(x,w))d=y,g=v;else{N=x-h,P=w-u;var I=y-h,A=x-y,L=v-u,C=w-v,T=void 0,E=void 0;"x"===r?(T=Math.abs(I),E=Math.abs(A),d=y-T*s,g=v,O=y+T*s,M=v):"y"===r?(T=Math.abs(L),E=Math.abs(C),d=y,g=v-T*s,O=y,M=v+T*s):(T=Math.sqrt(I*I+L*L),d=y-N*s*(1-(D=(E=Math.sqrt(A*A+C*C))/(E+T))),g=v-P*s*(1-D),M=v+P*s*D,O=H(O=y+N*s*D,F(x,y)),M=H(M,F(w,v)),O=F(O,H(x,y)),g=v-(P=(M=F(M,H(w,v)))-v)*T/E,d=H(d=y-(N=O-y)*T/E,F(h,y)),g=H(g,F(u,v)),O=y+(N=y-(d=F(d,H(h,y))))*E/T,M=v+(P=v-(g=F(g,H(u,v))))*E/T)}t.bezierCurveTo(p,c,d,g,y,v),p=O,c=M}else t.lineTo(y,v)}h=y,u=v,f+=o}return m}var X=function(){this.smooth=0,this.smoothConstraint=!0},Y=function(e){function i(t){var i=e.call(this,t)||this;return i.type="ec-polyline",i}return t(i,e),i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new X},i.prototype.buildPath=function(t,e){var i=e.points,n=0,a=i.length/2;if(e.connectNulls){for(;a>0&&B(i[2*a-2],i[2*a-1]);a--);for(;n<a&&B(i[2*n],i[2*n+1]);n++);}for(;n<a;)n+=W(t,i,n,a,a,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},i.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i,n,a=this.path.data,o=l.CMD,r="x"===e,u=[],p=0;p<a.length;){var c=void 0,d=void 0,g=void 0,f=void 0,m=void 0,y=void 0,v=void 0;switch(a[p++]){case o.M:i=a[p++],n=a[p++];break;case o.L:if(c=a[p++],d=a[p++],(v=r?(t-i)/(c-i):(t-n)/(d-n))<=1&&v>=0){var b=r?(d-n)*v+n:(c-i)*v+i;return r?[t,b]:[b,t]}i=c,n=d;break;case o.C:c=a[p++],d=a[p++],g=a[p++],f=a[p++],m=a[p++],y=a[p++];var _=r?s(i,c,g,m,t,u):s(n,d,f,y,t,u);if(_>0)for(var S=0;S<_;S++){var x=u[S];if(x<=1&&x>=0){b=r?h(n,d,f,y,x):h(i,c,g,m,x);return r?[t,b]:[b,t]}}i=m,n=y}}},i}(r),U=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return t(i,e),i}(X),j=function(e){function i(t){var i=e.call(this,t)||this;return i.type="ec-polygon",i}return t(i,e),i.prototype.getDefaultShape=function(){return new U},i.prototype.buildPath=function(t,e){var i=e.points,n=e.stackedOnPoints,a=0,o=i.length/2,s=e.smoothMonotone;if(e.connectNulls){for(;o>0&&B(i[2*o-2],i[2*o-1]);o--);for(;a<o&&B(i[2*a],i[2*a+1]);a++);}for(;a<o;){var r=W(t,i,a,o,o,1,e.smooth,s,e.connectNulls);W(t,n,a+r-1,r,o,-1,e.stackedOnSmooth,s,e.connectNulls),a+=r+1,t.closePath()}},i}(r);function q(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++)if(t[i]!==e[i])return;return!0}}function J(t){for(var e=1/0,i=1/0,n=-1/0,a=-1/0,o=0;o<t.length;){var s=t[o++],r=t[o++];isNaN(s)||(e=Math.min(s,e),n=Math.max(s,n)),isNaN(r)||(i=Math.min(r,i),a=Math.max(r,a))}return[[e,i],[n,a]]}function Z(t,e){var i=J(t),n=i[0],a=i[1],o=J(e),s=o[0],r=o[1];return Math.max(Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]),Math.abs(a[0]-r[0]),Math.abs(a[1]-r[1]))}function K(t){return"number"==typeof t?t:t?.5:0}function Q(t,e,i){for(var n=e.getBaseAxis(),a="x"===n.dim||"radius"===n.dim?0:1,o=[],s=0,r=[],l=[],h=[];s<t.length-2;s+=2)switch(h[0]=t[s+2],h[1]=t[s+3],l[0]=t[s],l[1]=t[s+1],o.push(l[0],l[1]),i){case"end":r[a]=h[a],r[1-a]=l[1-a],o.push(r[0],r[1]);break;case"middle":var u=(l[a]+h[a])/2,p=[];r[a]=p[a]=u,r[1-a]=l[1-a],p[1-a]=h[1-a],o.push(r[0],r[1]),o.push(p[0],p[1]);break;default:r[a]=l[a],r[1-a]=h[1-a],o.push(r[0],r[1])}return o.push(t[s++],t[s++]),o}function $(t,e,i){var n=t.get("showAllSymbol"),a="auto"===n;if(!n||a){var o=i.getAxesByScale("ordinal")[0];if(o&&(!a||!function(t,e){var i=t.getExtent(),n=Math.abs(i[1]-i[0])/t.scale.count();isNaN(n)&&(n=0);for(var a=e.count(),o=Math.max(1,Math.round(a/5)),s=0;s<a;s+=o)if(1.5*A.getSymbolSize(e,s)[t.isHorizontal()?1:0]>n)return!1;return!0}(o,e))){var s=e.mapDimension(o.dim),r={};return k(o.getViewLabels(),(function(t){var e=o.scale.getRawOrdinalNumber(t.tickValue);r[e]=1})),function(t){return!r.hasOwnProperty(e.get(s,t))}}}}function tt(t,e){return[t[2*e],t[2*e+1]]}function et(t,e,i,n){if(C(e,"cartesian2d")){var a=n.getModel("endLabel"),o=a.get("show"),s=a.get("valueAnimation"),r=n.getData(),l={lastFrameIndex:0},h=o?function(i,n){t._endLabelOnDuring(i,n,r,l,s,a,e)}:null,u=e.getBaseAxis().isHorizontal(),p=T(e,i,n,(function(){var e=t._endLabel;e&&i&&null!=l.originalX&&e.attr({x:l.originalX,y:l.originalY})}),h);if(!n.get("clip",!0)){var c=p.shape,d=Math.max(c.width,c.height);u?(c.y-=d,c.height+=2*d):(c.x-=d,c.width+=2*d)}return h&&h(1,p),p}return E(e,i,n)}var it=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return t(n,i),n.prototype.init=function(){var t=new e,i=new I;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=t},n.prototype.render=function(t,e,i){var n=this,o=t.coordinateSystem,s=this.group,r=t.getData(),l=t.getModel("lineStyle"),h=t.getModel("areaStyle"),f=r.getLayout("points")||[],m="polar"===o.type,y=this._coordSys,v=this._symbolDraw,b=this._polyline,_=this._polygon,S=this._lineGroup,x=t.get("animation"),w=!h.isEmpty(),N=h.get("origin"),P=R(o,r,N),O=w&&function(t,e,i){if(!i.valueDim)return[];for(var n=e.count(),a=M(2*n),o=0;o<n;o++){var s=V(i,t,e,o);a[2*o]=s[0],a[2*o+1]=s[1]}return a}(o,r,P),I=t.get("showSymbol"),A=I&&!m&&$(t,r,o),L=this._data;L&&L.eachItemGraphicEl((function(t,e){t.__temp&&(s.remove(t),L.setItemGraphicEl(e,null))})),I||v.remove(),s.add(S);var C,T=!m&&t.get("step");o&&o.getArea&&t.get("clip",!0)&&(null!=(C=o.getArea()).width?(C.x-=.1,C.y-=.1,C.width+=.2,C.height+=.2):C.r0&&(C.r0-=.5,C.r+=.5)),this._clipShapeForSymbol=C;var E=function(t,e){var i=t.getVisual("visualMeta");if(i&&i.length&&t.count()&&"cartesian2d"===e.type){for(var n,o,s=i.length-1;s>=0;s--){var r=i[s].dimension,l=t.dimensions[r],h=t.getDimensionInfo(l);if("x"===(n=h&&h.coordDim)||"y"===n){o=i[s];break}}if(o){var u=e.getAxis(n),p=a(o.stops,(function(t){return{offset:0,coord:u.toGlobalCoord(u.dataToCoord(t.value,!0)),color:t.color}})),c=p.length,d=o.outerColors.slice();c&&p[0].coord>p[c-1].coord&&(p.reverse(),d.reverse());var g=p[0].coord-10,f=p[c-1].coord+10,m=f-g;if(m<.001)return"transparent";k(p,(function(t){t.offset=(t.coord-g)/m})),p.push({offset:c?p[c-1].offset:.5,color:d[1]||"transparent"}),p.unshift({offset:c?p[0].offset:.5,color:d[0]||"transparent"});var y=new D(0,0,0,0,p,!0);return y[n]=g,y[n+"2"]=f,y}}}(r,o)||r.getVisual("style")[r.getVisual("drawType")];b&&y.type===o.type&&T===this._step?(w&&!_?_=this._newPolygon(f,O):_&&!w&&(S.remove(_),_=this._polygon=null),m||this._initOrUpdateEndLabel(t,o,u(E)),S.setClipPath(et(this,o,!1,t)),I&&v.updateData(r,{isIgnore:A,clipShape:C,disableAnimation:!0,getSymbolPoint:function(t){return[f[2*t],f[2*t+1]]}}),q(this._stackedOnPoints,O)&&q(this._points,f)||(x?this._doUpdateAnimation(r,O,o,i,T,N):(T&&(f=Q(f,o,T),O&&(O=Q(O,o,T))),b.setShape({points:f}),_&&_.setShape({points:f,stackedOnPoints:O})))):(I&&v.updateData(r,{isIgnore:A,clipShape:C,disableAnimation:!0,getSymbolPoint:function(t){return[f[2*t],f[2*t+1]]}}),x&&this._initSymbolLabelAnimation(r,o,C),T&&(f=Q(f,o,T),O&&(O=Q(O,o,T))),b=this._newPolyline(f),w&&(_=this._newPolygon(f,O)),m||this._initOrUpdateEndLabel(t,o,u(E)),S.setClipPath(et(this,o,!0,t)));var G=t.get(["emphasis","focus"]),z=t.get(["emphasis","blurScope"]);(b.useStyle(p(l.getLineStyle(),{fill:"none",stroke:E,lineJoin:"bevel"})),c(b,t,"lineStyle"),b.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"]))&&(b.getState("emphasis").style.lineWidth=+b.style.lineWidth+1);d(b).seriesIndex=t.seriesIndex,g(b,G,z);var H=K(t.get("smooth")),F=t.get("smoothMonotone"),B=t.get("connectNulls");if(b.setShape({smooth:H,smoothMonotone:F,connectNulls:B}),_){var W=r.getCalculationInfo("stackedOnSeries"),X=0;_.useStyle(p(h.getAreaStyle(),{fill:E,opacity:.7,lineJoin:"bevel",decal:r.getVisual("style").decal})),W&&(X=K(W.get("smooth"))),_.setShape({smooth:H,stackedOnSmooth:X,smoothMonotone:F,connectNulls:B}),c(_,t,"areaStyle"),d(_).seriesIndex=t.seriesIndex,g(_,G,z)}var Y=function(t){n._changePolyState(t)};r.eachItemGraphicEl((function(t){t&&(t.onHoverStateChange=Y)})),this._polyline.onHoverStateChange=Y,this._data=r,this._coordSys=o,this._stackedOnPoints=O,this._points=f,this._step=T,this._valueOrigin=N},n.prototype.dispose=function(){},n.prototype.highlight=function(t,e,i,n){var a=t.getData(),o=f(a,n);if(this._changePolyState("emphasis"),!(o instanceof Array)&&null!=o&&o>=0){var s=a.getLayout("points"),r=a.getItemGraphicEl(o);if(!r){var l=s[2*o],h=s[2*o+1];if(isNaN(l)||isNaN(h))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,h))return;var u=t.get("zlevel"),p=t.get("z");(r=new A(a,o)).x=l,r.y=h,r.setZ(u,p);var c=r.getSymbolPath().getTextContent();c&&(c.zlevel=u,c.z=p,c.z2=this._polyline.z2+1),r.__temp=!0,a.setItemGraphicEl(o,r),r.stopSymbolAnimation(!0),this.group.add(r)}r.highlight()}else m.prototype.highlight.call(this,t,e,i,n)},n.prototype.downplay=function(t,e,i,n){var a=t.getData(),o=f(a,n);if(this._changePolyState("normal"),null!=o&&o>=0){var s=a.getItemGraphicEl(o);s&&(s.__temp?(a.setItemGraphicEl(o,null),this.group.remove(s)):s.downplay())}else m.prototype.downplay.call(this,t,e,i,n)},n.prototype._changePolyState=function(t){var e=this._polygon;y(this._polyline,t),e&&y(e,t)},n.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new Y({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},n.prototype._newPolygon=function(t,e){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new j({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},n.prototype._initSymbolLabelAnimation=function(t,e,i){var n,a,o=e.getBaseAxis(),s=o.inverse;"cartesian2d"===e.type?(n=o.isHorizontal(),a=!1):"polar"===e.type&&(n="angle"===o.dim,a=!0);var r=t.hostModel,l=r.get("animationDuration");"function"==typeof l&&(l=l(null));var h=r.get("animationDelay")||0,u="function"==typeof h?h(null):h;t.eachItemGraphicEl((function(t,o){var r=t;if(r){var p=[t.x,t.y],c=void 0,d=void 0,g=void 0;if(i)if(a){var f=i,m=e.pointToCoord(p);n?(c=f.startAngle,d=f.endAngle,g=-m[1]/180*Math.PI):(c=f.r0,d=f.r,g=m[0])}else{var y=i;n?(c=y.x,d=y.x+y.width,g=t.x):(c=y.y+y.height,d=y.y,g=t.y)}var v=d===c?0:(g-c)/(d-c);s&&(v=1-v);var b="function"==typeof h?h(o):l*v+u,_=r.getSymbolPath(),S=_.getTextContent();r.attr({scaleX:0,scaleY:0}),r.animateTo({scaleX:1,scaleY:1},{duration:200,delay:b}),S&&S.animateFrom({style:{opacity:0}},{duration:300,delay:b}),_.disableLabelAnimation=!0}}))},n.prototype._initOrUpdateEndLabel=function(t,e,i){var n=t.getModel("endLabel");if(n.get("show")){var a=t.getData(),o=this._polyline,s=this._endLabel;s||((s=this._endLabel=new v({z2:200})).ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var r=function(t){for(var e,i,n=t.length/2;n>0&&(e=t[2*n-2],i=t[2*n-1],isNaN(e)||isNaN(i));n--);return n-1}(a.getLayout("points"));r>=0&&(b(o,_(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:r,defaultText:function(t,e,i){return null!=i?P(a,i):O(a,t)},enableTextSetter:!0},function(t,e){var i=e.getBaseAxis(),n=i.isHorizontal(),a=i.inverse,o=n?a?"right":"left":"center",s=n?"middle":a?"top":"bottom";return{normal:{align:t.get("align")||o,verticalAlign:t.get("verticalAlign")||s}}}(n,e)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},n.prototype._endLabelOnDuring=function(t,e,i,n,a,o,s){var r=this._endLabel,l=this._polyline;if(r){t<1&&null==n.originalX&&(n.originalX=r.x,n.originalY=r.y);var h=i.getLayout("points"),u=i.hostModel,p=u.get("connectNulls"),c=o.get("precision"),d=o.get("distance")||0,g=s.getBaseAxis(),f=g.isHorizontal(),m=g.inverse,y=e.shape,v=m?f?y.x:y.y+y.height:f?y.x+y.width:y.y,b=(f?d:0)*(m?-1:1),_=(f?0:-d)*(m?-1:1),w=f?"x":"y",k=function(t,e,i){for(var n,a,o=t.length/2,s="x"===i?0:1,r=0,l=-1,h=0;h<o;h++)if(a=t[2*h+s],!isNaN(a)&&!isNaN(t[2*h+1-s]))if(0!==h){if(n<=e&&a>=e||n>=e&&a<=e){l=h;break}r=h,n=a}else n=a;return{range:[r,l],t:(e-n)/(a-n)}}(h,v,w),D=k.range,N=D[1]-D[0],P=void 0;if(N>=1){if(N>1&&!p){var O=tt(h,D[0]);r.attr({x:O[0]+b,y:O[1]+_}),a&&(P=u.getRawValue(D[0]))}else{(O=l.getPointOn(v,w))&&r.attr({x:O[0]+b,y:O[1]+_});var M=u.getRawValue(D[0]),I=u.getRawValue(D[1]);a&&(P=S(i,c,M,I,k.t))}n.lastFrameIndex=D[0]}else{var A=1===t||n.lastFrameIndex>0?D[0]:0;O=tt(h,A);a&&(P=u.getRawValue(A)),r.attr({x:O[0]+b,y:O[1]+_})}a&&x(r).setLabelText(P)}},n.prototype._doUpdateAnimation=function(t,e,i,n,a,o){var s=this._polyline,r=this._polygon,l=t.hostModel,h=function(t,e,i,n,a,o,s,r){for(var l=function(t,e){var i=[];return e.diff(t).add((function(t){i.push({cmd:"+",idx:t})})).update((function(t,e){i.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){i.push({cmd:"-",idx:t})})).execute(),i}(t,e),h=[],u=[],p=[],c=[],d=[],g=[],f=[],m=R(a,e,s),y=t.getLayout("points")||[],v=e.getLayout("points")||[],b=0;b<l.length;b++){var _=l[b],S=!0,x=void 0,w=void 0;switch(_.cmd){case"=":x=2*_.idx,w=2*_.idx1;var k=y[x],D=y[x+1],N=v[w],P=v[w+1];(isNaN(k)||isNaN(D))&&(k=N,D=P),h.push(k,D),u.push(N,P),p.push(i[x],i[x+1]),c.push(n[w],n[w+1]),f.push(e.getRawIndex(_.idx1));break;case"+":var O=_.idx,I=m.dataDimsForPoint,A=a.dataToPoint([e.get(I[0],O),e.get(I[1],O)]);w=2*O,h.push(A[0],A[1]),u.push(v[w],v[w+1]);var L=V(m,a,e,O);p.push(L[0],L[1]),c.push(n[w],n[w+1]),f.push(e.getRawIndex(O));break;case"-":S=!1}S&&(d.push(_),g.push(g.length))}g.sort((function(t,e){return f[t]-f[e]}));var C=h.length,T=M(C),E=M(C),G=M(C),z=M(C),H=[];for(b=0;b<g.length;b++){var F=g[b],B=2*b,W=2*F;T[B]=h[W],T[B+1]=h[W+1],E[B]=u[W],E[B+1]=u[W+1],G[B]=p[W],G[B+1]=p[W+1],z[B]=c[W],z[B+1]=c[W+1],H[b]=d[F]}return{current:T,next:E,stackedOnCurrent:G,stackedOnNext:z,status:H}}(this._data,t,this._stackedOnPoints,e,this._coordSys,0,this._valueOrigin),u=h.current,p=h.stackedOnCurrent,c=h.next,d=h.stackedOnNext;if(a&&(u=Q(h.current,i,a),p=Q(h.stackedOnCurrent,i,a),c=Q(h.next,i,a),d=Q(h.stackedOnNext,i,a)),Z(u,c)>3e3||r&&Z(p,d)>3e3)return s.setShape({points:c}),void(r&&r.setShape({points:c,stackedOnPoints:d}));s.shape.__points=h.current,s.shape.points=u;var g={shape:{points:c}};h.current!==u&&(g.shape.__points=h.next),s.stopAnimation(),w(s,g,l),r&&(r.setShape({points:u,stackedOnPoints:p}),r.stopAnimation(),w(r,{shape:{stackedOnPoints:d}},l),s.shape.points!==r.shape.points&&(r.shape.points=s.shape.points));for(var f=[],m=h.status,y=0;y<m.length;y++){if("="===m[y].cmd){var v=t.getItemGraphicEl(m[y].idx1);v&&f.push({el:v,ptIdx:y})}}s.animators&&s.animators.length&&s.animators[0].during((function(){r&&r.dirtyShape();for(var t=s.shape.__points,e=0;e<f.length;e++){var i=f[e].el,n=2*f[e].ptIdx;i.x=t[n],i.y=t[n+1],i.markRedraw()}}))},n.prototype.remove=function(t){var e=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl((function(t,n){t.__temp&&(e.remove(t),i.setItemGraphicEl(n,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},n.type="line",n}(m);function nt(t){t.registerChartView(it),t.registerSeriesModel(z),t.registerLayout(L("line",!0)),t.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),i=t.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",i)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,G("line"))}export{j as E,nt as i};
