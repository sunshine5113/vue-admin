import{ag as e,ax as t,az as n,aO as a}from"./install.f743767a.js";function r(n,a,r,i,s){var o=n.getArea(),l=o.x,u=o.y,h=o.width,g=o.height,c=r.get(["lineStyle","width"])||2;l-=c/2,u-=c/2,h+=c,g+=c,l=Math.floor(l),h=Math.round(h);var f=new e({shape:{x:l,y:u,width:h,height:g}});if(a){var p=n.getBaseAxis(),d=p.isHorizontal(),m=p.inverse;d?(m&&(f.shape.x+=h),f.shape.width=0):(m||(f.shape.y+=g),f.shape.height=0),t(f,{shape:{width:h,height:g,x:l,y:u}},r,null,i,"function"==typeof s?function(e){s(e,f)}:null)}return f}function i(e,r,i){var s=e.getArea(),o=n(s.r0,1),l=n(s.r,1),u=new a({shape:{cx:n(e.cx,1),cy:n(e.cy,1),r0:o,r:l,startAngle:s.startAngle,endAngle:s.endAngle,clockwise:s.clockwise}});r&&("angle"===e.getBaseAxis().dim?u.shape.endAngle=s.startAngle:u.shape.r=o,t(u,{shape:{endAngle:s.endAngle,r:l}},i));return u}function s(e,t,n,a,s){return e?"polar"===e.type?i(e,t,n):"cartesian2d"===e.type?r(e,t,n,a,s):null:null}function o(e,t){return e.type===t}var l={average:function(e){for(var t=0,n=0,a=0;a<e.length;a++)isNaN(e[a])||(t+=e[a],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},u=function(e){return Math.round(e.length/2)};function h(e){return{seriesType:e,reset:function(e,t,n){var a=e.getData(),r=e.get("sampling"),i=e.coordinateSystem,s=a.count();if(s>10&&"cartesian2d"===i.type&&r){var o=i.getBaseAxis(),h=i.getOtherAxis(o),g=o.getExtent(),c=n.getDevicePixelRatio(),f=Math.abs(g[1]-g[0])*(c||1),p=Math.round(s/f);if(p>1){"lttb"===r&&e.setData(a.lttbDownSample(a.mapDimension(h.dim),1/p));var d=void 0;"string"==typeof r?d=l[r]:"function"==typeof r&&(d=r),d&&e.setData(a.downSample(a.mapDimension(h.dim),1/p,d,u))}}}}}export{r as a,i as b,s as c,h as d,o as i};
