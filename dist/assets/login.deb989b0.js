import{_,d as h,s as v,h as b,u as C,i as T,j as V,k as $,l as k,r as i,o as A,c as E,a as o,t as f,b as l,w as p,n as D,f as j,E as u,m as B,p as F,e as S}from"./index.13b91343.js";const z=h({components:{selectLang:v},setup(){const e=b(),s=C(),m=T(),a=V({name:"admin",password:"123456",loading:!1}),n=$("password"),c=()=>{n.value===""?n.value="password":n.value=""},d=()=>new Promise((t,y)=>{if(a.name===""){u.warning({message:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A",type:"warning"});return}if(a.password===""){u.warning({message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",type:"warning"});return}t(!0)});return{systemTitle:k,form:a,passwordType:n,passwordTypeChange:c,submit:()=>{d().then(()=>{a.loading=!0;let t={name:a.name,password:a.password};e.dispatch("user/login",t).then(async()=>{u.success({message:"\u767B\u5F55\u6210\u529F",type:"success",showClose:!0,duration:1e3}),await B(),await s.push(m.query.redirect||"/")}).finally(()=>{a.loading=!1})})}}}}),w=e=>(F("data-v-7b31bd39"),e=e(),S(),e),I={class:"container"},N={class:"box"},R=w(()=>o("i",{class:"sfont system-xingmingyonghumingnicheng"},null,-1)),U=w(()=>o("i",{class:"sfont system-mima"},null,-1)),q={class:"fixed-top-right"};function L(e,s,m,a,n,c){const d=i("el-input"),g=i("el-button"),t=i("el-form"),y=i("select-lang");return A(),E("div",I,[o("div",N,[o("h1",null,f(e.$t(e.systemTitle)),1),l(t,{class:"form"},{default:p(()=>[l(d,{size:"large",modelValue:e.form.name,"onUpdate:modelValue":s[0]||(s[0]=r=>e.form.name=r),placeholder:e.$t("message.system.userName"),type:"text",maxlength:"50"},{prepend:p(()=>[R]),_:1},8,["modelValue","placeholder"]),l(d,{size:"large",ref:"password",modelValue:e.form.password,"onUpdate:modelValue":s[2]||(s[2]=r=>e.form.password=r),type:e.passwordType,placeholder:e.$t("message.system.password"),name:"password",maxlength:"50"},{prepend:p(()=>[U]),append:p(()=>[o("i",{class:D(["sfont password-icon",e.passwordType?"system-yanjing-guan":"system-yanjing"]),onClick:s[1]||(s[1]=(...r)=>e.passwordTypeChange&&e.passwordTypeChange(...r))},null,2)]),_:1},8,["modelValue","type","placeholder"]),l(g,{type:"primary",loading:e.form.loading,onClick:e.submit,style:{width:"100%"},size:"medium"},{default:p(()=>[j(f(e.$t("message.system.login")),1)]),_:1},8,["loading","onClick"])]),_:1}),o("div",q,[l(y)])])])}var P=_(z,[["render",L],["__scopeId","data-v-7b31bd39"]]);export{P as default};
