import{_ as e,a2 as o,o as n,b4 as i,dF as t,J as s,cL as r,dm as a}from"./install.f743767a.js";import{i as l}from"./sliderMove.9fa02ce2.js";var h=function(s){function a(e){var t=s.call(this)||this;t._zr=e;var r=o(t._mousedownHandler,t),a=o(t._mousemoveHandler,t),l=o(t._mouseupHandler,t),h=o(t._mousewheelHandler,t),u=o(t._pinchHandler,t);return t.enable=function(o,t){this.disable(),this._opt=n(i(t)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==o&&(o=!0),!0!==o&&"move"!==o&&"pan"!==o||(e.on("mousedown",r),e.on("mousemove",a),e.on("mouseup",l)),!0!==o&&"scale"!==o&&"zoom"!==o||(e.on("mousewheel",h),e.on("pinch",u))},t.disable=function(){e.off("mousedown",r),e.off("mousemove",a),e.off("mouseup",l),e.off("mousewheel",h),e.off("pinch",u)},t}return e(a,s),a.prototype.isDragging=function(){return this._dragging},a.prototype.isPinching=function(){return this._pinching},a.prototype.setPointerChecker=function(e){this.pointerChecker=e},a.prototype.dispose=function(){this.disable()},a.prototype._mousedownHandler=function(e){if(!(t(e)||e.target&&e.target.draggable)){var o=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,o,n)&&(this._x=o,this._y=n,this._dragging=!0)}},a.prototype._mousemoveHandler=function(e){if(this._dragging&&p("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!l(this._zr,"globalPan")){var o=e.offsetX,n=e.offsetY,i=this._x,t=this._y,s=o-i,a=n-t;this._x=o,this._y=n,this._opt.preventDefaultMouseMove&&r(e.event),f(this,"pan","moveOnMouseMove",e,{dx:s,dy:a,oldX:i,oldY:t,newX:o,newY:n,isAvailableBehavior:null})}},a.prototype._mouseupHandler=function(e){t(e)||(this._dragging=!1)},a.prototype._mousewheelHandler=function(e){var o=p("zoomOnMouseWheel",e,this._opt),n=p("moveOnMouseWheel",e,this._opt),i=e.wheelDelta,t=Math.abs(i),s=e.offsetX,r=e.offsetY;if(0!==i&&(o||n)){if(o){var a=t>3?1.4:t>1?1.2:1.1;u(this,"zoom","zoomOnMouseWheel",e,{scale:i>0?a:1/a,originX:s,originY:r,isAvailableBehavior:null})}if(n){var l=Math.abs(i);u(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(i>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:s,originY:r,isAvailableBehavior:null})}}},a.prototype._pinchHandler=function(e){l(this._zr,"globalPan")||u(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},a}(a);function u(e,o,n,i,t){e.pointerChecker&&e.pointerChecker(i,t.originX,t.originY)&&(r(i.event),f(e,o,n,i,t))}function f(e,n,i,t,s){s.isAvailableBehavior=o(p,null,i,t),e.trigger(n,s)}function p(e,o,n){var i=n[e];return!e||i&&(!s(i)||o.event[i+"Key"])}export{h as R};
