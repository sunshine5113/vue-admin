import{d as e,C as t,i as n,D as l,E as u,a3 as o,Z as a,I as i,O as s,k as r,a4 as c,a5 as d,Y as m,a6 as v,K as f,x as p,y as h,r as x,H as _,o as b,c as g,p as y,n as w,l as C,m as k,t as E}from"./vendor.910582b6.js";var M=function(e,t){var n,l=t.arg;if(l){var u=t.value,o=v(l)?l.value:null===(n=t.instance)||void 0===n?void 0:n.$refs[l];o?"function"==typeof o.addReference?(e.$contextmenuKey=l,o.addReference(e,u)):console.error("".concat(l," 对应的实例不是 VContextmenu")):console.error("没有找到 ".concat(l," 对应的实例"))}else console.error("参数有误")},j=function(e,t){var n,l=e.$contextmenuKey;if(l){var u=null===(n=t.instance)||void 0===n?void 0:n.$refs[l];null==u||u.removeReference(e)}},O={mounted:M,updated:function(e,t){j(e,t),M(e,t)},beforeUnmount:j},R="v-contextmenu",$="v-contextmenu-icon",V="v-contextmenu-inner",I="v-contextmenu-divider",S="v-contextmenu-item",W="v-contextmenu-item--hover",A="v-contextmenu-item--disabled",B="v-contextmenu-group",P="v-contextmenu-group__title",D="v-contextmenu-group__menus",H="v-contextmenu-submenu",L="v-contextmenu-submenu__title",Y="v-contextmenu-submenu__menus",G="v-contextmenu-submenu__menus--top",K="v-contextmenu-submenu__menus--right",X="v-contextmenu-submenu__menus--bottom",q="v-contextmenu-submenu__menus--left",T="v-contextmenu-submenu__arrow";var F=["contextmenu"],N=e({name:"VContextmenu",props:{modelValue:{type:Boolean,default:!1},autoAjustPlacement:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},teleport:{type:[String,Object],default:function(){return"body"}}},emits:["show","hide","update:modelValue"],setup:function(e,i){var s=i.emit,r=t(null),c=t(e.modelValue||!1),d=function(e){c.value=e,s("update:modelValue",e)},m=t({top:0,left:0}),v=n((function(){return{top:"".concat(m.value.top,"px"),left:"".concat(m.value.left,"px")}})),p=t(null),h=function(t,n){var l,u,o=t instanceof Event?n:t,a=(null==o?void 0:o.autoAjustPlacement)||e.autoAjustPlacement,i={top:(null==o?void 0:o.top)||0,left:(null==o?void 0:o.left)||0};t instanceof Event&&(t.preventDefault(),i.top=null!==(l=null==o?void 0:o.top)&&void 0!==l?l:t.pageY,i.left=null!==(u=null==o?void 0:o.left)&&void 0!==u?u:t.pageX);d(!0),f((function(){if(a){var e=r.value;if(!e)return;var t=e.clientWidth,n=e.clientHeight;if(n+i.top>=window.innerHeight+window.scrollY){var l=i.top-n;l>window.scrollY&&(i.top=l)}if(t+i.left>=window.innerWidth+window.scrollX){var u=i.left-t;u>window.scrollX&&(i.left=u)}}m.value=i,s("show")}))},x=function(){p.value=null,d(!1),s("hide")},_=l(new Map),b=t(),g=n((function(){return b.value&&_.get(b.value)})),y=function(e){e.target&&r.value&&b.value&&(r.value.contains(e.target)||g.value&&g.value.triggers.includes("click")&&b.value.contains(e.target)||d(!1))};return u(c,(function(e){e?document.addEventListener("click",y):document.removeEventListener("click",y)})),o((function(){document.removeEventListener("click",y)})),a("visible",c),a("autoAjustPlacement",e.autoAjustPlacement),a("show",h),a("hide",x),{visible:c,style:v,currentReferenceOptions:g,currentOptions:p,contextmenuRef:r,addReference:function(t,n){var l=null!=n&&n.trigger?Array.isArray(n.trigger)?n.trigger:[n.trigger]:F,u=function(n){e.disabled||(b.value=t,h(n,{}))};l.forEach((function(e){t.addEventListener(e,u)})),_.set(t,{triggers:l,handler:u})},removeReference:function(e){var t=_.get(e);t&&(t.triggers.forEach((function(n){e.removeEventListener(n,t.handler)})),_.delete(e))},toggle:d,show:h,hide:x}},methods:{renderContent:function(){var e,t;return i(r("div",{class:R,ref:"contextmenuRef",style:this.style},[r("ul",{class:V},[null===(e=(t=this.$slots).default)||void 0===e?void 0:e.call(t,{triggerOptions:"currentReferenceOptions",options:"currentOptions"})])]),[[s,"visible"]])}},render:function(){var e,t;return this.visible?this.teleport?r(d,{to:this.teleport},"function"==typeof(t=e=this.renderContent())||"[object Object]"===Object.prototype.toString.call(t)&&!c(t)?e:{default:function(){return[e]}}):this.renderContent():null}});function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=e({name:"VContextmenuItem",props:{disabled:{type:Boolean,default:!1},hideOnClick:{type:Boolean,default:!0}},emits:["click","mouseenter","mouseleave"],setup:function(e,l){var u=l.emit,o=m("hide"),a=t(!1);return{classes:n((function(){var t;return U(t={},S,!0),U(t,A,e.disabled),U(t,W,a.value),t})),handleClick:function(t){e.disabled||(u("click",t),e.hideOnClick&&(null==o||o()))},handleMouseenter:function(t){e.disabled||(a.value=!0,u("mouseenter",t))},handleMouseleave:function(t){e.disabled||(a.value=!1,u("mouseleave",t))}}},render:function(){var e,t;return r("li",{class:this.classes,onClick:this.handleClick,onMouseenter:this.handleMouseenter,onMouseleave:this.handleMouseleave},[null===(e=(t=this.$slots).default)||void 0===e?void 0:e.call(t)])}}),z=e({name:"VContextmenuDivider",render:function(){return r("li",{class:I},null)}}),J=e({name:"VContextmenuIcon",props:{name:{type:String,required:!0}},render:function(){return r("i",{class:[$,"".concat($,"-").concat(this.name)]},null)}}),Q=e({name:"VContextmenuSubmenu",props:{title:{type:String,required:!0},disabled:{type:Boolean,default:!1}},emits:["mouseenter","mouseleave"],setup:function(e,l){var u=l.emit,o=t(null),a=m("autoAjustPlacement"),i=t(["top","right"]),s=t(!1),r=n((function(){var t;return U(t={},S,!0),U(t,L,!0),U(t,W,s.value),U(t,A,e.disabled),t})),c=n((function(){var e;return U(e={},R,!0),U(e,Y,!0),U(e,G,i.value.includes("top")),U(e,K,i.value.includes("right")),U(e,X,i.value.includes("bottom")),U(e,q,i.value.includes("left")),e}));return{hover:s,submenuRef:o,titleClasses:r,menusClasses:c,handleMouseenter:function(t){e.disabled||(s.value=!0,u("mouseenter",t),f((function(){var e=[];if(a){var n=t.target.getBoundingClientRect();if(!o.value)return;var l=o.value.clientWidth,u=o.value.clientHeight;n.right+l>=window.innerWidth?e.push("left"):e.push("right"),n.bottom+u>=window.innerHeight?e.push("bottom"):e.push("top")}i.value=e})))},handleMouseleave:function(t){e.disabled||(s.value=!1,u("mouseleave",t))}}},render:function(){var e,t,n,l;return r("li",{class:H,onMouseenter:this.handleMouseenter,onMouseleave:this.handleMouseleave},[r("div",{class:this.titleClasses},[(null===(e=(t=this.$slots).title)||void 0===e?void 0:e.call(t))||this.title,r("span",{class:T},[r(J,{name:"right-arrow"},null)])]),this.hover?r("div",{ref:"submenuRef",class:this.menusClasses},[r("ul",{class:V},[null===(n=(l=this.$slots).default)||void 0===n?void 0:n.call(l)])]):null])}}),ee=e({name:"VContextmenuGroup",props:{title:{type:String,default:void 0},maxWidth:{type:[Number,String],default:void 0}},setup:function(e){return{style:n((function(){if(e.maxWidth)return{"max-width":"number"==typeof e.maxWidth?"".concat(e.maxWidth,"px"):e.maxWidth,"overflow-x":"auto"}}))}},methods:{renderTitle:function(){var e,t,n=(null===(e=(t=this.$slots).title)||void 0===e?void 0:e.call(t))||this.title;return n?r("div",{class:P},[n]):null}},render:function(){var e,t;return r("li",{class:B},[this.renderTitle(),r("ul",{style:this.style,class:D},[null===(e=(t=this.$slots).default)||void 0===e?void 0:e.call(t)])])}}),te=e({name:"ExampleSimple",components:{[N.name]:N,[Z.name]:Z,[z.name]:z,[Q.name]:Q,[ee.name]:ee},directives:{contextmenu:O}});const ne=y();p("data-v-488970a8");const le={class:"box"},ue=r("h1",null,"基础使用",-1),oe={class:"wrapper"},ae=r("code",null,"右键点击此区域",-1),ie=w("编辑"),se=w("删除"),re=w("故事"),ce=w("优秀"),de=w("查看"),me=w("源码文档"),ve=w("说明文档"),fe=w("借阅");h();const pe=ne(((e,t,n,l,u,o)=>{const a=x("v-contextmenu-item"),s=x("v-contextmenu-divider"),c=x("v-contextmenu-submenu"),d=x("v-contextmenu"),m=_("contextmenu");return b(),g("div",le,[ue,i(r("div",oe,[ae],512),[[m,void 0,"contextmenu"]]),r(d,{ref:"contextmenu"},{default:ne((()=>[r(a,null,{default:ne((()=>[ie])),_:1}),r(a,null,{default:ne((()=>[se])),_:1}),r(a,{disabled:""},{default:ne((()=>[re])),_:1}),r(a,null,{default:ne((()=>[ce])),_:1}),r(s),r(c,{title:"更多操作"},{default:ne((()=>[r(a,null,{default:ne((()=>[de])),_:1}),r(c,{title:"文档"},{default:ne((()=>[r(a,null,{default:ne((()=>[me])),_:1}),r(a,null,{default:ne((()=>[ve])),_:1})])),_:1}),r(a,null,{default:ne((()=>[fe])),_:1})])),_:1}),r(s)])),_:1},512)])}));te.render=pe,te.__scopeId="data-v-488970a8";const he=e({name:"ExampleSFC",components:{[N.name]:N,[Z.name]:Z,[z.name]:z,[Q.name]:Q,[ee.name]:ee},directives:{contextmenu:O}});const xe=y();p("data-v-31a865b6");const _e={class:"box"},be=r("h1",null,"按钮组",-1),ge={class:"wrapper"},ye=r("code",null,"右键点击此区域",-1),we=w("菜单"),Ce=w("vue3"),ke=w("axios"),Ee=w("vuex"),Me=w("router"),je=w("菜单1"),Oe=w("菜单2"),Re=w("菜单3");h();const $e=xe(((e,t,n,l,u,o)=>{const a=x("v-contextmenu-item"),s=x("v-contextmenu-group"),c=x("v-contextmenu-divider"),d=x("v-contextmenu"),m=_("contextmenu");return b(),g("div",_e,[be,i(r("div",ge,[ye],512),[[m,void 0,"contextmenu"]]),r(d,{ref:"contextmenu"},{default:xe((()=>[r(a,null,{default:xe((()=>[we])),_:1}),r(s,null,{default:xe((()=>[r(a,null,{default:xe((()=>[Ce])),_:1}),r(a,null,{default:xe((()=>[ke])),_:1}),r(a,{disabled:""},{default:xe((()=>[Ee])),_:1}),r(a,null,{default:xe((()=>[Me])),_:1})])),_:1}),r(c),r(s,{title:"按钮组"},{default:xe((()=>[r(a,null,{default:xe((()=>[je])),_:1}),r(a,null,{default:xe((()=>[Oe])),_:1}),r(a,{disabled:""},{default:xe((()=>[Re])),_:1})])),_:1})])),_:1},512)])}));he.render=$e,he.__scopeId="data-v-31a865b6";var Ve=e({name:"ExampleDynamic",components:{[N.name]:N,[Z.name]:Z,[z.name]:z,[Q.name]:Q,[ee.name]:ee},directives:{contextmenu:O},data:()=>({extra:[]}),methods:{addItem(e="item"){this.extra.push(e)},removeItem(){this.extra.pop()}}});const Ie=y();p("data-v-f4e7004e");const Se={class:"box"},We=r("h1",null,"动态菜单",-1),Ae={class:"wrapper"},Be=r("code",null,"右键点击此区域",-1),Pe=w("添加菜单"),De=w("添加菜单组"),He=w("添加子菜单"),Le=w("删除"),Ye=w("菜单1"),Ge=w("菜单2"),Ke=w("菜单3"),Xe=w("菜单1"),qe=w("菜单2"),Te=w("菜单3");h();const Fe=Ie(((e,t,n,l,u,o)=>{const a=x("v-contextmenu-item"),s=x("v-contextmenu-group"),c=x("v-contextmenu-divider"),d=x("v-contextmenu-submenu"),m=x("v-contextmenu"),v=_("contextmenu");return b(),g("div",Se,[We,i(r("div",Ae,[Be],512),[[v,void 0,"contextmenu"]]),r(m,{ref:"contextmenu"},{default:Ie((()=>[r(s,{title:"操作"},{default:Ie((()=>[r(a,{"hide-on-click":!1,onClick:t[1]||(t[1]=t=>e.extra.push("item"))},{default:Ie((()=>[Pe])),_:1}),r(a,{"hide-on-click":!1,onClick:t[2]||(t[2]=t=>e.extra.push("group"))},{default:Ie((()=>[De])),_:1}),r(a,{"hide-on-click":!1,onClick:t[3]||(t[3]=t=>e.extra.push("submenu"))},{default:Ie((()=>[He])),_:1}),r(a,{"hide-on-click":!1,onClick:t[4]||(t[4]=t=>e.extra.pop())},{default:Ie((()=>[Le])),_:1})])),_:1}),(b(!0),g(C,null,k(e.extra,((e,t)=>(b(),g(C,{key:t},[r(c),"group"===e?(b(),g(s,{key:0,title:`菜单组 ${t+1}`},{default:Ie((()=>[r(a,null,{default:Ie((()=>[Ye])),_:1}),r(a,null,{default:Ie((()=>[Ge])),_:1}),r(a,null,{default:Ie((()=>[Ke])),_:1})])),_:2},1032,["title"])):"submenu"===e?(b(),g(d,{key:1,title:`子菜单 ${t+1}`},{default:Ie((()=>[r(a,null,{default:Ie((()=>[Xe])),_:1}),r(a,null,{default:Ie((()=>[qe])),_:1}),r(a,null,{default:Ie((()=>[Te])),_:1})])),_:2},1032,["title"])):(b(),g(a,{key:2},{default:Ie((()=>[w("菜单 "+E(t+1),1)])),_:2},1024))],64)))),128))])),_:1},512)])}));Ve.render=Fe,Ve.__scopeId="data-v-f4e7004e";var Ne=e({components:{basic:te,menuGroup:he,menuDynamic:Ve},setup(){}});const Ue=y();p("data-v-161ed4dd");const Ze={class:"layout-container"},ze={class:"flex-box"},Je=r("p",{style:{"text-align":"left"}},"demo采用插件：v-contextmenu",-1),Qe=r("p",null,[w("使用方法："),r("a",{href:"https://github.com/heynext/v-contextmenu",target:"_blank"},"https://github.com/heynext/v-contextmenu")],-1);h();const et=Ue(((e,t,n,l,u,o)=>{const a=x("el-alert"),i=x("basic"),s=x("el-col"),c=x("menuGroup"),d=x("menuDynamic"),m=x("el-row");return b(),g("div",Ze,[r("div",ze,[r(a,{type:"success"},{default:Ue((()=>[Je,Qe])),_:1}),r(m,{gutter:24},{default:Ue((()=>[r(s,{xs:24,sm:8,md:8,lg:8,xl:8},{default:Ue((()=>[r(i)])),_:1}),r(s,{xs:24,sm:8,md:8,lg:8,xl:8},{default:Ue((()=>[r(c)])),_:1}),r(s,{xs:24,sm:8,md:8,lg:8,xl:8},{default:Ue((()=>[r(d)])),_:1})])),_:1})])])}));Ne.render=et,Ne.__scopeId="data-v-161ed4dd";export default Ne;
